<header class="bg-blue-600 text-white shadow-md fixed top-0 left-0 right-0 z-50">
    <div class="container mx-auto px-4 py-4 flex justify-between items-center">
        <h1 class="text-2xl font-bold">Online Food Ordering Application</h1>

    <div class="relative">
      <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <!-- Shopping cart icon SVG path -->
      </svg>
      <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full text-xs px-2 py-1">0</span>
    </div>

        <nav>
            <ul class="flex space-x-6">
                <li><a href="/" class="hover:underline">Home</a></li>
                <li><a href="/menu" class="hover:underline">Menu</a></li>
                <li id="auth-link"><a href="/login" class="hover:underline">Login</a></li>
            </ul>
        </nav>
    </div>
</header>

<script>
    // Check if user is logged in
    document.addEventListener('DOMContentLoaded', function() {
        const authLink = document.getElementById('auth-link');
        const user = localStorage.getItem('user');
        
        if (user) {
            // User is logged in, show logout link
            authLink.innerHTML = '<a href="#" id="logout-btn" class="hover:underline">Logout</a>';
            
            // Add logout functionality
            document.getElementById('logout-btn').addEventListener('click', function(e) {
                e.preventDefault();
                
                // Call logout API
                fetch('/auth/logout', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                })
                .then(response => response.json())
                .then(data => {
                    // Clear user data from localStorage
                    localStorage.removeItem('user');
                    
                    // Redirect to home page
                    window.location.href = '/';
                })
                .catch(error => {
                    console.error('Logout failed:', error);
                });
            });
        }
    });
</script>
